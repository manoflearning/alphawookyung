#pragma GCC optimize("Ofast")
#pragma GCC optimize("unroll-loops")
#include <bits/stdc++.h>
using namespace std;
#define sz(x) (int)(x).size()

const int INF = 1e9 + 7;

string X, Y, W;
vector<int> dpx, rdpx;
vector<int> dpy, rdpy;

void init() {
    dpx.clear();
    rdpx.clear();
    dpy.clear();
    rdpy.clear();
}

void input() { cin >> X >> Y >> W; }

void bottomup(vector<int>& dp, vector<int>& rdp, const string& S) {
    dp.resize(sz(S));
    rdp.resize(sz(S));
    
    dp[0] = 0;
    for (int i = 1; i < sz(dp); i++) {
        if (dp[i - 1] == sz(W)) dp[i] = sz(W);
        else {
            char c = W[dp[i - 1]];
            dp[i] = dp[i - 1];
            if (c == S[i - 1]) dp[i]++;
        }
    }
    
    rdp[sz(S) - 1] = 0;
    for (int i = sz(rdp) - 2; i >= 0; i--) {
        if (rdp[i + 1] == sz(W)) rdp[i] = sz(W);
        else {
            char c = W[sz(W) - rdp[i + 1] - 1];
            rdp[i] = rdp[i + 1];
            if (c == S[i + 1]) rdp[i]++;
        }
    }
}

void pre() {
    bottomup(dpx, rdpx, X);
    bottomup(dpy, rdpy, Y);
}

int main() {

    cin.tie(NULL); cout.tie(NULL);
    ios_base::sync_with_stdio(false);

    int tc; cin >> tc;
    while (tc--) {
        init();

        input();

        pre();

        vector<vector<int>> px(26, vector<int>(sz(W) + 1, -INF));
        vector<vector<int>> py(26, vector<int>(sz(W) + 1, -INF));
        for (int i = 0; i < sz(X); i++) {
            px[X[i] - 'a'][dpx[i]] = max(px[X[i] - 'a'][dpx[i]], rdpx[i]);
        }
        for (int i = 0; i < sz(Y); i++) {
            py[Y[i] - 'a'][dpy[i]] = max(py[Y[i] - 'a'][dpy[i]], rdpy[i]);
        }
        for (int j = sz(W) - 1; j >= 0; j--) {
            for (int i = 0; i < 26; i++) {
                px[i][j] = max(px[i][j], px[i][j + 1]);
                py[i][j] = max(py[i][j], py[i][j + 1]);
            }
        }

        int ans = 0;
        for (int i = 0; i < 26; i++) {
            for (int j = 0; j <= sz(W); j++) {
                if (j + min(px[i][j], py[i][j]) >= sz(W)) ans = 1;
            }
        }

        cout << ans << '\n';
    }
}